<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			body{
				overflow: hidden;
			}
			.box {
				/*overflow: hidden;*/
				position: relative;
				margin: 0 auto;
				width: 800px;
				height: 600px;
				margin-top: 50px;
			}
			
			.boom {
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				transform-style: preserve-3d;
				background: none;
			}
		</style>
	</head>

	<body>
		<div class="box">

		</div>
		<script type="text/javascript">
			var arr = [{
					'img': 'img/39586106097455124.jpg'
				},
				{
					'img': 'img/513695590577621219.jpg'
				},
				{
					'img': 'img/725633011827982951.jpg'
				},
				{
					'img': 'img/75306227600010483.jpg'
				}
			];
			var box = document.querySelector('.box');
			var zindex = 999;
			var ImgIndex = 0;
			var y = 10;
			var x =10;
			tab(y, x)

			function tab() {
				if(ImgIndex == arr.length) {
					ImgIndex =0;
				}
				zindex--;
				var newDiv = document.createElement("div");
				newDiv.className = 'boom';
				newDiv.style.zIndex=zindex;
				box.appendChild(newDiv);
				for(var i = 0; i < y; i++) {
					for(var j = 0; j < x; j++) {
						var needw = (box.offsetWidth) / x;
						var needh = (box.offsetHeight) / y;
						var oDiv = document.createElement("div");
						oDiv.style.width = needw + 'px';
						oDiv.style.height = needh + "px";
						oDiv.style.float='left';
						console.log(arr[ImgIndex].img)
						oDiv.style.background = 'url(' + arr[ImgIndex].img + ')';
						oDiv.style.backgroundSize="800px 600px";
						oDiv.className='odiv';
						oDiv.style.backgroundPosition = (-j * needw) + "px " + (-i * needh) + "px";
						newDiv.appendChild(oDiv);
					}
				}
				ImgIndex++;
				var aDiv=newDiv.children;
				setTimeout(function(){
					tab(y, x);
					for(var i=0;i<aDiv.length;i++){
					aDiv[i].style.transition="all "+(Math.random()*2+0.5)+"s ease";
					aDiv[i].style.transform="translateY("+(Math.random()*300-100)+"px)translateX("+(Math.random()*300-100)+"px)rotateX("+(Math.random()*360-180)+"deg)rotateY("+(Math.random()*360-180)+"deg)";
					aDiv[i].style.opacity=0;
					}
					setTimeout(function(){
						box.removeChild(box.children[0])
					},2000)
				},2000)
			}
			
			
		</script>
	</body>

</html>